<div class="highlight"><pre><span class="kn">from</span> <span class="nn">utils</span> <span class="kn">import</span> <span class="n">cached</span>

<span class="n">LETTERS</span> <span class="o">=</span> <span class="s">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span>
<span class="n">TOTAL_LETTERS</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">LETTERS</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">TOTAL_LETTERS</span> <span class="o">==</span> <span class="mi">26</span>

<span class="k">def</span> <span class="nf">cezar</span><span class="p">(</span><span class="n">offset</span><span class="p">):</span>
	<span class="n">alphabet</span> <span class="o">=</span> <span class="p">{</span><span class="n">letter</span><span class="p">:</span> <span class="n">LETTERS</span><span class="p">[(</span><span class="n">i</span> <span class="o">-</span> <span class="n">offset</span><span class="p">)</span> <span class="o">%</span> <span class="n">TOTAL_LETTERS</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">LETTERS</span><span class="p">)}</span>
	<span class="k">def</span> <span class="nf">cipher</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
		<span class="k">return</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">alphabet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">text</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">cipher</span>

<span class="nd">@cached</span>
<span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
	<span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
		<span class="k">return</span> <span class="mi">1</span>
	<span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
		<span class="k">return</span> <span class="mi">2</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="c"># console.log(JSON.stringify(Array.prototype.map.call(document.querySelectorAll(&#39;.container li&#39;), function(li) {return li.innerText})));</span>
<span class="n">WORDS</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;TVCWPDBMJTBUJPO&quot;</span><span class="p">,</span><span class="s">&quot;UWNRJWTKBCVKQPU&quot;</span><span class="p">,</span><span class="s">&quot;FRQWUDFWDELOLWB&quot;</span><span class="p">,</span><span class="s">&quot;INAJWYNXXJRJSYX&quot;</span><span class="p">,</span><span class="s">&quot;ACJKIBMOWZQHQVO&quot;</span><span class="p">,</span><span class="s">&quot;PBASRFFVBANEVRF&quot;</span><span class="p">,</span><span class="s">&quot;XDIZHDXMJBMVKCT&quot;</span><span class="p">,</span><span class="s">&quot;NCOIKQWCAVMAAMA&quot;</span><span class="p">,</span><span class="s">&quot;FRQWUDFWDELOLWB&quot;</span><span class="p">,</span><span class="s">&quot;PYLYETZXZCASTPD&quot;</span><span class="p">,</span><span class="s">&quot;VMRFCGHOHWQOZZM&quot;</span><span class="p">,</span><span class="s">&quot;RTAUNBZKHRZSHNM&quot;</span><span class="p">,</span><span class="s">&quot;VADHVFVGBEVNYYL&quot;</span><span class="p">,</span><span class="s">&quot;YUEBDABADFUAZQP&quot;</span><span class="p">,</span><span class="s">&quot;OSDQHCNOGHKHRSR&quot;</span><span class="p">,</span><span class="s">&quot;DNLYOLWTKLETZYD&quot;</span><span class="p">,</span><span class="s">&quot;YBKMEVYECXOCCOC&quot;</span><span class="p">,</span><span class="s">&quot;XDIZHDXMJBMVKCT&quot;</span><span class="p">,</span><span class="s">&quot;UFSTUMYMFQRNYNX&quot;</span><span class="p">,</span><span class="s">&quot;SUCCESSLESSNESS&quot;</span><span class="p">,</span><span class="s">&quot;TWYMTUFJINHFQQD&quot;</span><span class="p">,</span><span class="s">&quot;JSFSYNTRTWUMNJX&quot;</span><span class="p">,</span><span class="s">&quot;KQQBKXNSCOWOXDC&quot;</span><span class="p">,</span><span class="s">&quot;TJSXDBTIGXRPAAN&quot;</span><span class="p">,</span><span class="s">&quot;RTBBDRRKDRRMDRR&quot;</span><span class="p">,</span><span class="s">&quot;IZHFOGHFIQHIFOZ&quot;</span><span class="p">,</span><span class="s">&quot;ERZBARGVMNGVBAF&quot;</span><span class="p">,</span><span class="s">&quot;ESFBNMFTTOFTTFT&quot;</span><span class="p">,</span><span class="s">&quot;ASUOJSFHSPFOHSG&quot;</span><span class="p">,</span><span class="s">&quot;DKTGJIXAXOPIXDC&quot;</span><span class="p">,</span><span class="s">&quot;IRUHQVLFDOLWLHV&quot;</span><span class="p">,</span><span class="s">&quot;VAKAFUDAFSLAGFK&quot;</span><span class="p">,</span><span class="s">&quot;YDNZHWVMFVODJIN&quot;</span><span class="p">,</span><span class="s">&quot;IVOEBSYBGNGVBAF&quot;</span><span class="p">,</span><span class="s">&quot;KPIUJMZTIQVAPQX&quot;</span><span class="p">,</span><span class="s">&quot;YDNDIXGDIVODJIN&quot;</span><span class="p">,</span><span class="s">&quot;RYHUXWLOLCDWLRQ&quot;</span><span class="p">,</span><span class="s">&quot;GLOSGQGRMPGYJJW&quot;</span><span class="p">,</span><span class="s">&quot;DPVOUFSCBMBODFT&quot;</span><span class="p">,</span><span class="s">&quot;RTABZSDFNQHYHMF&quot;</span><span class="p">,</span><span class="s">&quot;CONDESCENDINGLY&quot;</span><span class="p">,</span><span class="s">&quot;BGZLADQKZHMRGHO&quot;</span><span class="p">,</span><span class="s">&quot;DTCHNLDSQHBZKKX&quot;</span><span class="p">,</span><span class="s">&quot;SJRPYQRPSARSPYJ&quot;</span><span class="p">,</span><span class="s">&quot;OBQROKXYFIFQFBP&quot;</span><span class="p">,</span><span class="s">&quot;WDJNTNOZHVODNON&quot;</span><span class="p">,</span><span class="s">&quot;TJSUZQVSULQDAKE&quot;</span><span class="p">,</span><span class="s">&quot;FPNAQNYVMNGVBAF&quot;</span><span class="p">,</span><span class="s">&quot;MDIWTXYFYNHFQQD&quot;</span><span class="p">,</span><span class="s">&quot;VAKUGFLAFMALAWK&quot;</span><span class="p">,</span><span class="s">&quot;KLOQEBOIFKBPPBP&quot;</span><span class="p">,</span><span class="s">&quot;TMRAPJHIGPIXDCH&quot;</span><span class="p">,</span><span class="s">&quot;NDAZOTAEOABUOMX&quot;</span><span class="p">,</span><span class="s">&quot;BHHSBOEJTFNFOUT&quot;</span><span class="p">,</span><span class="s">&quot;PBAGENCBFVGVBAF&quot;</span><span class="p">,</span><span class="s">&quot;QCBHFODCGWHWCBG&quot;</span><span class="p">,</span><span class="s">&quot;CJUVNJOJABUJPOT&quot;</span><span class="p">,</span><span class="s">&quot;RDCUTHHXDCPGXTH&quot;</span><span class="p">,</span><span class="s">&quot;IJUHUEJOFYSQBBO&quot;</span><span class="p">,</span><span class="s">&quot;MJRFLLQZYNSFYJX&quot;</span><span class="p">,</span><span class="s">&quot;YMZVHGZNNIZNNZN&quot;</span><span class="p">,</span><span class="s">&quot;AXIOMATIZATIONS&quot;</span><span class="p">,</span><span class="s">&quot;JMOCJKVZYDXVGGT&quot;</span><span class="p">,</span><span class="s">&quot;YDNVAADMHVODJIN&quot;</span><span class="p">,</span><span class="s">&quot;JXUHYECEHFXYICI&quot;</span><span class="p">,</span><span class="s">&quot;LITZXLETKLETZYD&quot;</span><span class="p">,</span><span class="s">&quot;VOJOGPSNBUJWFMZ&quot;</span><span class="p">,</span><span class="s">&quot;ZADFTQDXUZQEEQE&quot;</span><span class="p">,</span><span class="s">&quot;ERGHEANOVYVGVRF&quot;</span><span class="p">,</span><span class="s">&quot;UHAQNEKNSZSHNMR&quot;</span><span class="p">,</span><span class="s">&quot;PUHQDFUEEQYQZFE&quot;</span><span class="p">,</span><span class="s">&quot;CPZCNSPDECLETZY&quot;</span><span class="p">,</span><span class="s">&quot;LOXZRILRPKBPPBP&quot;</span><span class="p">,</span><span class="s">&quot;NCOIKQWCAVMAAMA&quot;</span><span class="p">,</span><span class="s">&quot;YMJWNTRTWUMNXRX&quot;</span><span class="p">,</span><span class="s">&quot;OEBAPUBFPBCVPNY&quot;</span><span class="p">,</span><span class="s">&quot;MFAFXGJESLANWDQ&quot;</span><span class="p">,</span><span class="s">&quot;HTSIJXHJSINSLQD&quot;</span><span class="p">,</span><span class="s">&quot;PQBOBLQVMFZXIIV&quot;</span><span class="p">,</span><span class="s">&quot;HQTGPUKECNKVKGU&quot;</span><span class="p">,</span><span class="s">&quot;OSDQHCNOGHKHRSR&quot;</span><span class="p">,</span><span class="s">&quot;CSBDIZEBDUZMJTN&quot;</span><span class="p">,</span><span class="s">&quot;PANOPHTHALMITIS&quot;</span><span class="p">,</span><span class="s">&quot;QIPUPJPOJABUJPO&quot;</span><span class="p">,</span><span class="s">&quot;TVMQIVSJABUJPOT&quot;</span><span class="p">,</span><span class="s">&quot;RCPVKUQETCVKECN&quot;</span><span class="p">,</span><span class="s">&quot;SDQWLVRFUDWLFDO&quot;</span><span class="p">,</span><span class="s">&quot;INXJRGFWPFYNTSX&quot;</span><span class="p">,</span><span class="s">&quot;LQAKWVBQVCQBQMA&quot;</span><span class="p">,</span><span class="s">&quot;RKPYNHFGENGVBAF&quot;</span><span class="p">,</span><span class="s">&quot;MZJMXCZNOMVODJI&quot;</span><span class="p">,</span><span class="s">&quot;PMUIOOTCBQVIBMA&quot;</span><span class="p">,</span><span class="s">&quot;UHPRQHWLCDWLRQV&quot;</span><span class="p">,</span><span class="s">&quot;XPECZAZWTELYLEP&quot;</span><span class="p">,</span><span class="s">&quot;ASHFCDCZWHOBOHS&quot;</span><span class="p">,</span><span class="s">&quot;CHRZEEHQLZSHNMR&quot;</span><span class="p">,</span><span class="s">&quot;CUBGBVBAVMNGVBA&quot;</span><span class="p">,</span><span class="s">&quot;NUFGYUZULMFUAZE&quot;</span><span class="p">,</span><span class="s">&quot;LHROQNONQSHNMDC&quot;</span><span class="p">,</span><span class="s">&quot;NZFYEPCMLWLYNPD&quot;</span><span class="p">,</span><span class="s">&quot;WOQKFOBDOLBKDOC&quot;</span><span class="p">]</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="n">decoded_words</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>

<span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">word</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">WORDS</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
	<span class="n">offset</span> <span class="o">=</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
	<span class="n">cipher</span> <span class="o">=</span> <span class="n">cezar</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
	<span class="n">decoded_word</span> <span class="o">=</span> <span class="n">cipher</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
	<span class="n">decoded_words</span><span class="p">[</span><span class="n">decoded_word</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="k">for</span> <span class="n">decoded_word</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">decoded_words</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
	<span class="k">if</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
		<span class="k">continue</span>
	<span class="k">print</span> <span class="n">decoded_word</span>
</pre></div>
